# Testowanie i jakość oprogramowania II

## Autor
Bartosz Lasko

## Temat projektu
Dziennik dietetyczny

## Uruchomienie projektu
Aby uruchomić projekt, użyj domyślnej komendy:
mvn spring-boot:run


## Testy


Poniżej szczegółowa lista 20 testów wraz z lokalizacjami i pełnymi opisami:

---

### **1. BmiControllerIntegrationTests**
- **[testPostBmiIntegration](src/test/java/com/example/apka_prozdrowotna/BmiControllerIntegrationTests.java)**  
  Testuje metodę POST `/postBmi`. Sprawdza, czy dla podanych danych (waga i wzrost) obliczone BMI jest poprawne. Weryfikuje, czy odpowiedź HTTP ma status 200, ciało odpowiedzi nie jest puste, a zwrócona wartość BMI zgadza się z oczekiwaną. Testuje również zapis BMI do bazy danych.

---

### **2. BmiControllerUnitTests**
- **[testCalculateBmi](src/test/java/com/example/apka_prozdrowotna/BmiControllerUnitTests.java)**  
  Sprawdza, czy metoda `calculateBmi` poprawnie oblicza BMI dla danych wejściowych: waga 70 kg, wzrost 1.75 m. Oczekiwany wynik to 22.86.

- **[testCalculateBmiForDifferentValues](src/test/java/com/example/apka_prozdrowotna/BmiControllerUnitTests.java)**  
  Testuje metodę `calculateBmi` z innymi danymi wejściowymi: waga 90 kg, wzrost 1.80 m. Oczekiwany wynik to 27.78.

---

### **3. CaloriePoolControllerIntegrationTests**
- **[testPostCaloriePoolIntegration](src/test/java/com/example/apka_prozdrowotna/CaloriePoolControllerIntegrationTests.java)**  
  Testuje metodę POST `/postCaloriePool`, która oblicza pulę kaloryczną na podstawie danych użytkownika (np. wiek, płeć, waga, poziom aktywności). Weryfikuje, czy odpowiedź HTTP ma status 200, ciało odpowiedzi zawiera poprawną wartość puli kalorycznej, oraz czy wartość została poprawnie zapisana w bazie danych.

---

### **4. CaloriePoolControllerUnitTests**
- **[shouldCalculateCaloriePoolForFemaleWithModerateActivityAndReduction](src/test/java/com/example/apka_prozdrowotna/CaloriePoolControllerUnitTests.java)**  
  Testuje obliczenie puli kalorycznej dla kobiety w wieku 30 lat, o wadze 65 kg, wzroście 165 cm, umiarkowanej aktywności fizycznej i preferencji redukcji wagi. Oczekiwana wartość to 1807 kcal.

- **[shouldCalculateCaloriePoolForMaleWithHighActivityAndGain](src/test/java/com/example/apka_prozdrowotna/CaloriePoolControllerUnitTests.java)**  
  Weryfikuje obliczenie puli kalorycznej dla mężczyzny w wieku 25 lat, o wadze 75 kg, wzroście 180 cm, wysokiej aktywności fizycznej i preferencji zwiększenia wagi. Oczekiwana wartość to 3743 kcal.

---

### **5. DataDietControllerIntegrationTests**
- **[shouldDeleteIngredientFromMealPeriod](src/test/java/com/example/apka_prozdrowotna/DataDietControllerIntegrationTests.java)**  
  Testuje metodę DELETE, która usuwa składnik z danego okresu posiłkowego (np. lunchu). Sprawdza, czy składnik został usunięty z bazy danych oraz czy GET `/getIngredients` zwraca pustą listę po usunięciu.

- **[shouldReturnIngredientsForMealPeriod](src/test/java/com/example/apka_prozdrowotna/DataDietControllerIntegrationTests.java)**  
  Weryfikuje poprawność działania GET `/getIngredients`, sprawdzając, czy zwracana lista składników dla danego okresu posiłkowego zawiera odpowiednie dane.

- **[testGetBmiIntegration](src/test/java/com/example/apka_prozdrowotna/DataDietControllerIntegrationTests.java)**  
  Testuje metodę GET `/getBmi`, sprawdzając poprawność odpowiedzi (kod statusu 200, ciało odpowiedzi zawierające poprawne BMI) oraz zapisanych danych użytkownika.

- **[testGetCaloriePoolIntegration](src/test/java/com/example/apka_prozdrowotna/DataDietControllerIntegrationTests.java)**  
  Testuje metodę GET `/getCaloriePool`, sprawdzając, czy odpowiedź zawiera prawidłowe dane o puli kalorycznej użytkownika.

- **[testGetRecommendedHydrationIntegration](src/test/java/com/example/apka_prozdrowotna/DataDietControllerIntegrationTests.java)**  
  Testuje metodę GET `/getRecommendedHydration`, weryfikując, czy zwracane dane o nawodnieniu użytkownika są poprawne.

---

### **6. DataDietHomeControllerUnitTests**
- **[shouldReturnIngredientsForMealPeriod](src/test/java/com/example/apka_prozdrowotna/DataDietHomeControllerUnitTests.java)**  
  Sprawdza, czy metoda `getIngradientsFromMealPeriod` zwraca listę składników dla danego okresu posiłkowego (np. śniadania), na podstawie danych mockowanych w serwisie.

- **[shouldDeleteIngredientFromMealPeriod](src/test/java/com/example/apka_prozdrowotna/DataDietHomeControllerUnitTests.java)**  
  Weryfikuje poprawność usuwania składnika z danego okresu posiłkowego poprzez metodę DELETE.

---

### **7. RecommendedHydrationControllerIntegrationTests**
- **[testPostRecommendedHydrationIntegration](src/test/java/com/example/apka_prozdrowotna/RecommendedHydrationControllerIntegrationTests.java)**  
  Testuje metodę POST `/postRecommendedHydration`, sprawdzając, czy wartość nawodnienia obliczona na podstawie wagi użytkownika jest poprawna, oraz czy została prawidłowo zapisana w bazie danych.

---

### **8. SearchIngredientControllerIntegrationTests**
- **[integrationTestGetIngredientList](src/test/java/com/example/apka_prozdrowotna/SearchIngredientControllerIntegrationTests.java)**  
  Weryfikuje poprawność działania GET `/getIngredientList`. Testuje, czy zwracana lista składników z bazy danych zawiera poprawne dane (np. "Agrest", "Ananas").

- **[integrationTestPostIngredientToMealPeriod](src/test/java/com/example/apka_prozdrowotna/SearchIngredientControllerIntegrationTests.java)**  
  Testuje metodę POST `/postIngredientToMealPeriod/{mealPeriod}`. Weryfikuje, czy składnik został poprawnie dodany do posiłku, a odpowiedź zawiera oczekiwaną wartość.

---

### **9. RecommendedHydrationControllerUnitTests**
- **[shouldCalculateRecommendedHydrationForNormalWeight](src/test/java/com/example/apka_prozdrowotna/RecommendedHydrationControllerUnitTests.java)**  
  Weryfikuje obliczenie nawodnienia dla użytkownika o wadze 70 kg. Oczekiwana wartość to 2.5 litra.

- **[shouldCalculateRecommendedHydrationForHigherWeight](src/test/java/com/example/apka_prozdrowotna/RecommendedHydrationControllerUnitTests.java)**  
  Sprawdza obliczenie nawodnienia dla użytkownika o wadze 90 kg. Oczekiwana wartość to 3.2 litra.

---

### **10. SearchIngredientControllerUnitTests**
- **[shouldReturnListOfIngredientsFromRepository](src/test/java/com/example/apka_prozdrowotna/SearchIngredientControllerUnitTests.java)**  
  Testuje, czy metoda `getIngredientList` zwraca listę składników z repozytorium, oraz weryfikuje, czy zwrócone dane są poprawne (np. "Marchew", "Ogórek").

- **[shouldPostIngredientToMealPeriodAndReturnLabel](src/test/java/com/example/apka_prozdrowotna/SearchIngredientControllerUnitTests.java)**  
  Sprawdza, czy metoda `postIngredientToMealPeriod` poprawnie dodaje składnik do wybranego okresu posiłkowego oraz zwraca odpowiedni label.

---

Wszystkie testy zostały rozpisane szczegółowo, wraz z pełnymi lokalizacjami prowadzącymi do ich kodu źródłowego. Dzięki temu nawigacja i analiza testów w projekcie są szybkie i efektywne.



## Scenariusze testowe <br>
<small>(od kroku 5, po każdym teście manualnym, należy usunąć całkowicie wybrane produkty z ekranu początkowego)</small>



| ID Scenariusza | Tytuł                                                                                                                                                                                                                                  | Warunki początkowe                                                                                                                                                                                                             | Kroki testowe                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Oczekiwany rezultat                                                                                                                                                                                                                                                                                                                                  |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1              | Obliczanie Bmi                                                                                                                                                                                                                         | Po otwarciu aplikacji, przejdź ze strony początkowej do formularza obliczania Bmi, naciskając przycisk "Oblicz BMI" będący na samej górze ekranu początkowego.                                                                 | 1. Podaj jako wzrost wartość: 1.8. <br> 2. Podaj jako wagę wartość: 90. <br> 3. Kliknij "Zatwierdź". <br> 4. Kliknij "Powrót".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | W lewym górnym rogu ekranu początkowego jest wyświetlana wartość 27.78 dla BMI.                                                                                                                                                                                                                                                                      |
| 2              | Obliczanie puli kalorii w celu redukcji masy ciała dla kobiety ze średnią aktywnością fizyczną.                                                                                                                                        | Po otwarciu aplikacji, przejdź ze strony początkowej do formularza obliczania zalacanej puli kalorii, naciskając przycisk "Oblicz zalecaną pulę kalorii", będący na w prawym gónym rogu ekranu początkowego.                   | 1. Wybierz jako płeć wartość: kobieta. <br> 2. Wprowadź jako wiek wartość: 32. <br> 3. Wprowadź jako wzrost wartość: 1.65. <br> 4. Wprowadź jako wagę wartość: 75. <br> 5. Wybierz jako poziom aktywności wartość: umiarkowana. <br> 6. Wybierz jako preferencja wartość: redukcja wagi. <br> 7. Kliknij "Zatwierdź".<br> 8. Kliknij "Powrót".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | W lewym górnym rogu ekranu początkowego jest wyświetlana wartość 1462 dla puli kalorii.                                                                                                                                                                                                                                                              |
| 3              | Obliczanie puli kalorii w celu utrzymania masy ciała dla mężczyzny ze niską aktywnością fizyczną.                                                                                                                                      | Po otwarciu aplikacji, przejdź ze strony początkowej do formularza obliczania zalacanej puli kalorii, naciskając przycisk "Oblicz zalecaną pulę kalorii", będący na w prawym gónym rogu ekranu początkowego.                   | 1. Wybierz jako płeć wartość: mężczyzna. <br> 2. Wprowadź jako wiek wartość: 33. <br> 3. Wprowadź jako wzrost wartość: 1.85. <br> 4. Wprowadź jako wagę wartość: 90. <br> 5. Wybierz jako poziom aktywności wartość: niska. <br> 6. Wybierz jako preferencja wartość: stabilizacja wagi. <br> 7. Kliknij "Zatwierdź".<br> 8. Kliknij "Powrót".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | W lewym górnym rogu ekranu początkowego jest wyświetlana wartość 1417 dla puli kalorii.                                                                                                                                                                                                                                                              |
| 4              | Obliczanie puli kalorii w celu wzrostu masy ciała dla mężczyzny z wysoką aktywnością fizyczną.                                                                                                                                         | Po otwarciu aplikacji, przejdź ze strony początkowej do formularza obliczania zalacanej puli kalorii, naciskając przycisk "Oblicz zalecaną pulę kalorii", będący na w prawym gónym rogu ekranu początkowego.                   | 1. Wybierz jako płeć wartość: mężczyzna. <br> 2. Wprowadź jako wiek wartość: 24. <br> 3. Wprowadź jako wzrost wartość: 1.79. <br> 4. Wprowadź jako wagę wartość: 70. <br> 5. Wybierz jako poziom aktywności wartość: wysoka. <br> 6. Wybierz jako preferencja wartość: wzrost wagi. <br> 7. Kliknij "Zatwierdź".<br> 8. Kliknij "Powrót".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | W lewym górnym rogu ekranu początkowego jest wyświetlana wartość 2026 dla puli kalorii.                                                                                                                                                                                                                                                              |
| 5              | Obliczanie rekomendowanego nawodnienia organizmu dla całego dnia.                                                                                                                                                                      | Po otwarciu aplikacji, przejdź ze strony początkowej do formularza obliczania rekomendowanego nawodnienia na dzień, naciskając przycisk "Oblicz rekomendowane nawodnienie", będący na w prawym gónym rogu ekranu początkowego. | 1. Wprowadź jako wagę ciała: 100 <br> 2. Kliknij "Zatwierdź". <br> 3. Kliknij "Powrót".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | W lewym górnym rogu ekranu początkowego jest wyświetlana wartość 3.5 dla rekomendowanej ilości nawodneinia.                                                                                                                                                                                                                                          |
| 6              | Obliczanie ilośći makroskładników dla 30g produktu o nazwie "Ananas".                                                                                                                                                                  | Po otwarciu aplikacji, zostań na ekranie początkowym.                                                                                                                                                                          | 1. Kliknij "Dodaj śniadanie", będące u góry po lewej stronie na ekranie początkowym. <br> 2. Teraz na ekranie wyboru produktu, z listy wybierz "Ananas" <br> 3. W polu poniżej wprowadź wartość: 30 (ilość produktu w gramach). <br> 4. Kliknij "Zatwierdź".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Po lewej stronie na górze ekranu początkowego, w tabelce dla składników śniadania, powinien się wyświetlić skład dla produktu "Ananas". </br> Skład powinien wyglądać następująco:</br>- białko,: 0.15 g,</br>- sód: 0.30 g,</br>- węglowodany: 3.93 g</br>- tłuszcz: 0.03g,</br>- cholesterol: 0.00 g,</br>- cukier: 3.00 g,</br>- błonnik: 0.42 g. |
| 7              | Obliczanie ilości kalorii dla 21g produktu o nazwie "Agrest".                                                                                                                                                                          | Po otwarciu aplikacji, zostań na ekranie początkowym.                                                                                                                                                                          | 1. Kliknij "Dodaj śniadanie", będące u góry po lewej stronie na ekranie początkowym. <br> 2. Teraz na ekranie wyboru produktu, z listy wybierz "Agrest" <br> 3. W polu poniżej wprowadź wartość: 21 (ilość produktu w gramach). <br> 4. Kliknij "Zatwierdź".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Po lewej stronie na górze ekranu początkowego, w tabelce dla składników śniadania, ilość kalorii dla "Agrestu" wynosi: 9.21 kcal.                                                                                                                                                                                                                    |
| 8              | Dla sumy składu 2 wybranych produktów ze śniadania("Bagietka" - 20 g,"Bakłażan - 10 g"), wygenerowanie dla śniadania wykresu udziału procentowego: tłuszczów, białka i węglowodanów.                                                   | Po otwarciu aplikacji, zostań na ekranie początkowym.                                                                                                                                                                          | 1. Kliknij "Dodaj śniadanie", będące u góry po lewej stronie na ekranie początkowym. <br> 2. Teraz na ekranie wyboru produktu, z listy wybierz "Bagietka" <br> 3. W polu poniżej wprowadź wartość: 20 (ilość produktu w gramach). <br> 4. Kliknij "Zatwierdź".<br> 5. Kliknij "Dodaj śniadanie", będące u góry po lewej stronie na ekranie początkowym. <br> 6. Teraz na ekranie wyboru produktu, z listy wybierz "Bakłażan" <br> 7. W polu poniżej wprowadź wartość: 10 (ilość produktu w gramach). <br> 8. Kliknij "Zatwierdź".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Po lewej stronie ekranu powitalnego pod tabelą "suma składników śniadania", wykres dla sumy produktów śniadania, pokazuje udział procentowy: białka - 13.35 %, tłuszczów - 1.83 %, węglowodanów - 84.82 %.                                                                                                                                           |
| 9              | Dla sumy składu 2 wybranych produktów z obiadu("Fasola biała" - 30 g, "Dynia" - 25 g), wygenerowanie dla obiadu wykresu udziału procentowego: tłuszczów, białka i węglowodanów.                                                        | Po otwarciu aplikacji, zostań na ekranie początkowym.                                                                                                                                                                          | 1. Kliknij "Dodaj Obiad", będące na środku po lewej stronie na ekranie początkowym. <br> 2. Teraz na ekranie wyboru produktu, z listy wybierz "Fasola biała" <br> 3. W polu poniżej wprowadź wartość: 30 (ilość produktu w gramach). <br> 4. Kliknij "Zatwierdź".<br> 5. Kliknij "Dodaj obiad", będące na środku po lewej stronie na ekranie początkowym. <br> 6. Teraz na ekranie wyboru produktu, z listy wybierz "Dynia" <br> 7. W polu poniżej wprowadź wartość: 25 (ilość produktu w gramach). <br> 8. Kliknij "Zatwierdź".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Po prawej stronie ekranu powitalnego pod tabelą "suma składników obiadu", wykres dla sumy produktów obiadu, pokazuje udział procentowy: białka - 49.77 %, tłuszczów - 1.75 %, węglowodanów - 48.58 %.                                                                                                                                                |
| 10             | Dla łącznej sumy składu 2 produktów ze śniadania("Gruszka" - 25 g, "Indyk" - 42 g) i  2 z lunchu("Ser feta" - 37 g,"Ryż biały" - 45 g), wygenerowanie dla całego dnia wykresu udziału procentowego: tłuszczów, białka i węglowodanów.  | Po otwarciu aplikacji, zostań na ekranie początkowym.                                                                                                                                                                          | 1. Kliknij "Dodaj śniadanie", będące u góry po lewej stronie na ekranie początkowym. <br> 2. Teraz na ekranie wyboru produktu, z listy wybierz "Gruszka" <br> 3. W polu poniżej wprowadź wartość: 25 (ilość produktu w gramach). <br> 4. Kliknij "Zatwierdź".<br> 5. Kliknij "Dodaj śniadanie", będące u góry po lewej stronie na ekranie początkowym. <br> 6. Teraz na ekranie wyboru produktu, z listy wybierz "Indyk" <br> 7. W polu poniżej wprowadź wartość: 42 (ilość produktu w gramach). <br> 8. Kliknij "Zatwierdź". 9. Kliknij "Dodaj lunch", będące na środku po lewej stronie. <br> 10. Teraz na ekranie wyboru produktu, z listy wybierz "Ser feta" <br> 11. W polu poniżej wprowadź wartość: 37 (ilość produktu w gramach). <br> 12. Kliknij "Zatwierdź".<br> 13. Kliknij "Dodaj lunch", będące u góry po lewej stronie na ekranie początkowym. <br> 14. Teraz na ekranie wyboru produktu, z listy wybierz "Ryż biały" <br> 15. W polu poniżej wprowadź wartość: 45 (ilość produktu w gramach). <br> 16. Kliknij "Zatwierdź".     | Po prawej stronie ekranu powitalnego pod tabelą "suma składników wszystkich posiłków", wykres dla sumy produktów całego dnia, pokazuje udział procentowy: białka - 29.56 %, tłuszczów - 11.96 %, węglowodanów - 58.48 %.                                                                                                                             |


## Technologie użyte w projekcie
- **Java Spring Boot**
- **TypeScript React**
- **MySQL**